<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bouncing Video</title>

<style>
    body {
        margin: 0;
        overflow: hidden;
        background: black;
    }

    .video-box {
        position: absolute;
        width: 400px;
        height: 300px;
        cursor: pointer;
    }

    video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        pointer-events: none;
    }
</style>
</head>
<body>

<script>
function createVideo(x = 100, y = 100) {
    const box = document.createElement("div");
    box.className = "video-box";
    box.style.left = x + "px";
    box.style.top = y + "px";

    const vid = document.createElement("video");
    vid.src = "./video.mp4";
    vid.loop = true;
    vid.autoplay = true;
    vid.muted = true;

    box.appendChild(vid);
    document.body.appendChild(box);

    let dx = 3 + Math.random() * 3;
    let dy = 3 + Math.random() * 3;

    function animate() {
        let rect = box.getBoundingClientRect();
        let nx = rect.left + dx;
        let ny = rect.top + dy;

        if (nx <= 0 || nx + rect.width >= window.innerWidth) dx *= -1;
        if (ny <= 0 || ny + rect.height >= window.innerHeight) dy *= -1;

        box.style.left = rect.left + dx + "px";
        box.style.top = rect.top + dy + "px";

        requestAnimationFrame(animate);
    }

    animate();

    // Duplicate element when clicked (safe)
    box.onclick = () => {
        createVideo(
            Math.random() * (window.innerWidth - 400),
            Math.random() * (window.innerHeight - 300)
        );
    };
}

createVideo();
</script>

</body>
</html>
